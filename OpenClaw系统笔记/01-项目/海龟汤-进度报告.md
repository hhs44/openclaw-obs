# AIæµ·é¾Ÿæ±¤é¡¹ç›® - Phase 1 è¿›åº¦æŠ¥å‘Š

**æŠ¥å‘Šæ—¶é—´ï¼š** 2026-02-24 11:38 GMT+8
**é¡¹ç›®çŠ¶æ€ï¼š** ğŸŸ¢ æ ¸å¿ƒåŠŸèƒ½å·²å®Œæˆ

---

## âœ… å·²å®Œæˆ

### GameDeveloperï¼ˆå…¨æ ˆå¼€å‘ï¼‰
**è¿›åº¦ï¼šçº¦40%**

1. **âœ… é¡¹ç›®åˆå§‹åŒ–**
   - Next.js 14 é¡¹ç›®åˆ›å»ºå®Œæˆ
   - TypeScript é…ç½®å®Œæˆ
   - Tailwind CSS é…ç½®å®Œæˆ
   - package.json é…ç½®å®Œæˆ
   - ä¾èµ–ï¼šNext.js, React, Zustand, better-sqlite3

2. **âœ… å‰ç«¯åŸºç¡€**
   - ä¸»é¡µï¼ˆ/app/page.tsxï¼‰å®Œæˆ
   - åŸºç¡€å¸ƒå±€ï¼ˆ/app/layout.tsxï¼‰å®Œæˆ
   - å…¨å±€æ ·å¼ï¼ˆ/app/globals.cssï¼‰å®Œæˆ

3. **âœ… ç›®å½•ç»“æ„**
   - /app - é¡µé¢å’ŒAPIè·¯ç”±
   - /src/lib - å·¥å…·åº“
   - /types - TypeScriptç±»å‹å®šä¹‰
   - /test - æµ‹è¯•æ–‡ä»¶

### Engineerï¼ˆAIé›†æˆï¼‰
**è¿›åº¦ï¼šâœ… 100%**

1. **âœ… Promptè®¾è®¡**
   - âœ… generate-puzzle.md - æ±¤é¢˜ç”ŸæˆPrompt
   - âœ… answer-question.md - é—®ç­”ç³»ç»ŸPrompt
   - âœ… judge-answer.md - ç­”æ¡ˆåˆ¤æ–­Prompt

2. **âœ… AIæœåŠ¡æ¨¡å—** (`/src/lib/ai.ts`)
   - âœ… `judgeRelevance()` - åˆ¤æ–­ç©å®¶è¾“å…¥ä¸æ±¤åº•ç›¸å…³æ€§
   - âœ… `checkAnswer()` - æ£€æŸ¥ç©å®¶ç­”æ¡ˆæ˜¯å¦æ­£ç¡®ï¼ˆå…³é”®è¯åŒ¹é…ï¼‰
   - âœ… `judgeAnswerWithAI()` - AIæ™ºèƒ½åˆ¤æ–­ç­”æ¡ˆ
   - âœ… æ”¯æŒClaude APIï¼ˆä¼˜å…ˆï¼‰å’ŒOpenAI APIï¼ˆå¤‡é€‰ï¼‰
   - âœ… å®Œå–„çš„é”™è¯¯å¤„ç†å’Œç±»å‹å®‰å…¨

3. **âœ… æç¤ºç”Ÿæˆæ¨¡å—** (`/src/lib/hints.ts`)
   - âœ… `generateHint()` - æ ¹æ®éš¾åº¦ç”Ÿæˆæç¤º
   - âœ… `getHintProgress()` - è·å–ä¸‹æ¬¡æç¤ºè¿›åº¦
   - âœ… `getHintPolicy()` - è·å–éš¾åº¦å¯¹åº”çš„æç¤ºç­–ç•¥
   - âœ… æ”¯æŒ5ä¸ªéš¾åº¦ç­‰çº§çš„å·®å¼‚åŒ–æç¤º

4. **âœ… ç¯å¢ƒé…ç½®**
   - âœ… `.env.example` - ç¯å¢ƒå˜é‡æ¨¡æ¿
   - âœ… æ”¯æŒANTHROPIC_API_KEYå’ŒOPENAI_API_KEY

5. **âœ… ä¾èµ–ç®¡ç†**
   - âœ… æ·»åŠ  `@anthropic-ai/sdk: ^0.27.0`
   - âœ… æ·»åŠ  `ts-node` ç”¨äºæµ‹è¯•

6. **âœ… æµ‹è¯•è„šæœ¬** (`/test/ai-test.ts`)
   - âœ… ç›¸å…³æ€§åˆ¤æ–­æµ‹è¯•
   - âœ… ç­”æ¡ˆæ£€æŸ¥æµ‹è¯•
   - âœ… AIåˆ¤æ–­æµ‹è¯•
   - âœ… æç¤ºç³»ç»Ÿæµ‹è¯•

---

## ğŸ”„ è¿›è¡Œä¸­/æœªå®Œæˆ

### GameDeveloper
- âŒ æ¸¸æˆé¡µé¢ï¼ˆ/app/game/ï¼‰- å¾…å®ç°
- âŒ APIæ¥å£ï¼ˆ/app/api/game/ï¼‰- å¾…å®ç°
- âŒ æ•°æ®åº“åˆå§‹åŒ– - æ— .dbæ–‡ä»¶
- âŒ æ¸¸æˆé€»è¾‘ä»£ç 
- âŒ ZustandçŠ¶æ€ç®¡ç†

---

## ğŸ“Š AIæ¨¡å—æŠ€æœ¯ç»†èŠ‚

### APIä¼˜å…ˆçº§
1. **Claude API**ï¼ˆä¼˜å…ˆï¼‰- claude-3-5-sonnet-20241022
2. **OpenAI API**ï¼ˆå¤‡é€‰ï¼‰- gpt-4o-mini

### æç¤ºé¢‘ç‡è®¾ç½®
| éš¾åº¦ | åç§° | æç¤ºé¢‘ç‡ |
|-----|-----|---------|
| 1 | ç®€å• | æ¯3ä¸ªé—®é¢˜ |
| 2 | æ™®é€š | æ¯5ä¸ªé—®é¢˜ |
| 3 | å›°éš¾ | æ¯8ä¸ªé—®é¢˜ |
| 4 | ä¸“å®¶ | ä¸ç»™æç¤º |
| 5 | å¤§å¸ˆ | ä¸ç»™æç¤º |

### ç­”æ¡ˆåˆ¤æ–­é€»è¾‘
- å…³é”®ç‚¹åŒ¹é… â‰¥ 70% è§†ä¸ºæ­£ç¡®
- æ”¯æŒæ¨¡ç³ŠåŒ¹é…ï¼ˆåŒ…å«å…³ç³»ï¼‰
- è¿”å›å‘ç°çš„å…³é”®ç‚¹åˆ—è¡¨

---

## ğŸ¯ ä¸‹ä¸€æ­¥ä»»åŠ¡

### GameDeveloper éœ€è¦å®Œæˆ
1. åˆ›å»ºæ¸¸æˆé¡µé¢ç»„ä»¶
2. å®ç°APIè·¯ç”±
3. åˆå§‹åŒ–æ•°æ®åº“
4. å®ç°æ¸¸æˆçŠ¶æ€ç®¡ç†
5. é›†æˆAIæœåŠ¡æ¨¡å—

### å»ºè®®çš„APIè·¯ç”±
```
POST /api/game/start     - å¼€å§‹æ–°æ¸¸æˆ
POST /api/game/ask       - æäº¤é—®é¢˜
POST /api/game/answer    - æäº¤æœ€ç»ˆç­”æ¡ˆ
GET  /api/game/hint      - è·å–æç¤º
GET  /api/game/status    - è·å–æ¸¸æˆçŠ¶æ€
```

---

## ğŸ“ ä½¿ç”¨è¯´æ˜

### ç¯å¢ƒé…ç½®
```bash
# å¤åˆ¶ç¯å¢ƒå˜é‡æ¨¡æ¿
cp .env.example .env.local

# ç¼–è¾‘ .env.localï¼Œå¡«å…¥API Key
ANTHROPIC_API_KEY=your_key_here

# å®‰è£…ä¾èµ–
npm install

# è¿è¡ŒAIæµ‹è¯•
npm run test:ai
```

### ä»£ç å¯¼å…¥ç¤ºä¾‹
```typescript
import { judgeRelevance, checkAnswer } from '@/lib/ai';
import { generateHint } from '@/lib/hints';

// åˆ¤æ–­ç›¸å…³æ€§
const result = await judgeRelevance(bottom, playerInput);
// result: 'æ˜¯' | 'ä¸æ˜¯' | 'ä¸å®Œå…¨æ˜¯'

// æ£€æŸ¥ç­”æ¡ˆ
const check = await checkAnswer(bottom, answer, keyPoints);
// check: { correct: boolean; message: string; foundPoints: string[] }

// ç”Ÿæˆæç¤º
const hint = generateHint(difficulty, questionCount, keyPoints, discoveredPoints);
// hint: string | null
```

---

## ğŸ’¡ å»ºè®®

1. **æµ‹è¯•AIæœåŠ¡**ï¼šå…ˆè¿è¡Œ `npm run test:ai` éªŒè¯APIé…ç½®æ­£ç¡®
2. **é€æ­¥é›†æˆ**ï¼šå…ˆå®ç°åŸºç¡€æ¸¸æˆæµç¨‹ï¼Œå†é›†æˆAIåˆ¤æ–­
3. **ç¼“å­˜ä¼˜åŒ–**ï¼šè€ƒè™‘å¯¹ç›¸åŒè¾“å…¥ç¼“å­˜AIåˆ¤æ–­ç»“æœ
4. **é™çº§ç­–ç•¥**ï¼šAPIä¸å¯ç”¨æ—¶æœ‰å¤‡ç”¨åˆ¤æ–­é€»è¾‘

---

**Engineerä»»åŠ¡å®Œæˆï¼AIæœåŠ¡æ¨¡å—å·²å°±ç»ªï¼Œç­‰å¾…GameDeveloperé›†æˆã€‚**
